{"version":3,"file":"js/662.ad2e8d9d.js","mappings":"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","sources":["webpack://final-hw/./src/mixins/fullpathMixin.js","webpack://final-hw/./src/views/UserInquire.vue","webpack://final-hw/./src/views/UserInquire.vue?f351"],"sourcesContent":["export default {\r\n  inject: ['emitter'],\r\n  created() {\r\n    this.emitter.emit('get-path', {\r\n      fullPath: this.$route.fullPath,\r\n    });\r\n  },\r\n};\r\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-center mb-5\">\r\n      <div class=\"col-12 col-md-8\">\r\n        <h4 class=\"mb-4\">訂單查詢</h4>\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" class=\"form-control\"\r\n          placeholder=\"請輸入訂單號碼\" v-model=\"orderId\">\r\n          <button class=\"btn btn-secondary\" type=\"button\"\r\n            @click=\"getOrder\">\r\n            查詢\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center g-5\"\r\n      v-if=\"order.id\">\r\n      <div class=\"col-12 col-xl-5\">\r\n        <!-- <h5 class=\"mb-3\">訂單明細</h5> -->\r\n        <table class=\"table align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">品名</th>\r\n              <th scope=\"col\" class=\"text-end\">數量</th>\r\n              <th scope=\"col\" class=\"text-end\">單價</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n              <td class=\"row flex-column flex-md-row align-items-center\">\r\n                <div class=\"position-relative col w-100 w-xl-50 pt-100 pt-xl-50\">\r\n                  <img :src=\"item.product.imageUrl\" alt=\"商品圖片\"\r\n                    class=\"object-fit-cover position-absolute top-0\r\n                    bottom-0 start-0 end-0 w-100 h-100\">\r\n                </div>\r\n                <p class=\"col m-0 text-center\">{{ item.product.title }}</p>\r\n              </td>\r\n              <td class=\"text-end\">\r\n                {{ item.qty }}/{{ item.product.unit }}\r\n              </td>\r\n              <td class=\"text-end\">NT${{ $filters.currency(item.final_total) }}</td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr v-if=\"couponCode\">\r\n              <td colspan=\"2\" class=\"text-end text-success\">已使用優惠券</td>\r\n              <td class=\"text-success text-end\">{{ couponCode }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td colspan=\"2\" class=\"text-end\">總計</td>\r\n              <td class=\"text-end\">NT${{ $filters.currency(order.total) }}</td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-12 col-xl-5\">\r\n        <!-- <h4 class=\"mb-3\">寄貨資料</h4> -->\r\n        <table class=\"table mb-4\">\r\n          <tbody>\r\n            <tr>\r\n              <th>訂單編號</th>\r\n              <td>{{ order.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Email</th>\r\n              <td>{{ order.user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人姓名</th>\r\n              <td>{{ order.user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人電話</th>\r\n              <td>{{ order.user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人地址</th>\r\n              <td>{{ order.user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>付款狀態</th>\r\n              <td v-if=\"!order.is_paid\" class=\"text-danger\">尚未付款</td>\r\n              <td v-else class=\"text-success\">付款完成</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"row flex-column flex-md-row\" v-if=\"!order.is_paid\">\r\n          <div class=\"col col-md-7\">\r\n            <i class=\"fa-solid fa-triangle-exclamation me-2\"></i>\r\n            <span class=\" fw-semibold\">訂單尚未完成!</span>\r\n            <p>確認訂單內容後，點擊付款即完成訂單!</p>\r\n          </div>\r\n          <div class=\"col col-md-5 text-end\">\r\n            <button class=\"btn btn-danger\" type=\"button\"\r\n            @click=\"payOrder\">\r\n              確認付款\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fullpathMixin from '@/mixins/fullpathMixin';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderId: '',\r\n      order: {\r\n        user: {},\r\n      },\r\n      couponCode: '',\r\n      isLoading: false,\r\n    };\r\n  },\r\n  mixins: [fullpathMixin],\r\n  methods: {\r\n    getOrder() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.isLoading = false;\r\n          // console.log(res.data);\r\n          this.order = res.data.order;\r\n          const key = Object.keys(res.data.order.products)[0];\r\n          const productKey = res.data.order.products[key];\r\n          if (productKey.coupon) {\r\n            this.couponCode = productKey.coupon.code;\r\n          }\r\n        });\r\n    },\r\n    payOrder() {\r\n      this.isLoading = true;\r\n      const id = this.orderId.trim();\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`;\r\n      this.$http.post(url)\r\n        .then((res) => {\r\n          this.isLoading = false;\r\n          if (res.data.success) {\r\n            this.getOrder();\r\n            const messageTitle = '付款成功';\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: messageTitle,\r\n              content: '已完成付款',\r\n            });\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./UserInquire.vue?vue&type=template&id=21b1ee93\"\nimport script from \"./UserInquire.vue?vue&type=script&lang=js\"\nexport * from \"./UserInquire.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","created","this","emitter","emit","fullPath","$route","class","_createElementVNode","key","scope","colspan","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","_cache","$event","orderId","onClick","args","$options","getOrder","order","id","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_renderList","products","item","_hoisted_10","_hoisted_11","src","product","imageUrl","alt","_hoisted_12","_hoisted_13","_toDisplayString","title","_hoisted_14","qty","unit","_hoisted_15","_ctx","$filters","currency","final_total","couponCode","_hoisted_16","_hoisted_17","_hoisted_18","_createCommentVNode","_hoisted_19","_hoisted_20","total","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","user","email","_hoisted_25","name","_hoisted_26","tel","_hoisted_27","address","_hoisted_28","is_paid","_hoisted_30","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","payOrder","data","mixins","fullpathMixin","methods","url","$http","get","then","res","Object","keys","productKey","coupon","code","trim","post","success","messageTitle","style","content","__exports__","render"],"sourceRoot":""}