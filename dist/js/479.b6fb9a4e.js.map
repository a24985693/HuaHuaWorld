{"version":3,"file":"js/479.b6fb9a4e.js","mappings":"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","sources":["webpack://final-hw/./src/mixins/fullpathMixin.js","webpack://final-hw/./src/views/UserInquire.vue","webpack://final-hw/./src/views/UserInquire.vue?f351"],"sourcesContent":["export default {\r\n  inject: ['emitter'],\r\n  created() {\r\n    this.emitter.emit('get-path', {\r\n      fullPath: this.$route.fullPath,\r\n    });\r\n  },\r\n};\r\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-center mb-5\">\r\n      <div class=\"col-12 col-md-8\">\r\n        <h4 class=\"mb-4\">訂單查詢</h4>\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" class=\"form-control\"\r\n          placeholder=\"請輸入訂單號碼\" v-model=\"orderId\">\r\n          <button class=\"btn btn-secondary\" type=\"button\"\r\n          @click=\"getOrder\">\r\n            查詢\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center gy-5 gx-md-5\"\r\n    v-if=\"order !== null && order.id\">\r\n      <div class=\"col-12 col-md-6 col-xl-5\">\r\n        <h4 class=\"mb-3\">訂單明細</h4>\r\n        <ul v-for=\"item in order.products\" :key=\"item.id\"\r\n        class=\"list-unstyled row border-bottom mb-0 py-3 align-items-center\r\n        bg-white\">\r\n          <li class=\"col-5 col-xl-3\">\r\n            <div class=\"position-relative w-100 pt-100\">\r\n              <img :src=\"item.product.imageUrl\" alt=\"商品圖片\"\r\n              class=\"object-fit-cover position-absolute top-0\r\n              bottom-0 start-0 end-0 w-100 h-100\">\r\n            </div>\r\n          </li>\r\n          <li class=\"col-7 col-xl-9\">\r\n            <div class=\"row flex-column flex-xl-row\r\n            justify-content-md-between\">\r\n              <p class=\"col-xl-6 fw-bold mb-xl-0\">{{ item.product.title }}</p>\r\n              <p class=\"col-xl-2 mb-xl-0\">x{{ item.qty }}</p>\r\n              <p class=\"col-xl-4 ps-auto mb-0 text-xl-end\">\r\n                NT${{ $filters.currency(item.final_total) }}\r\n              </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul v-if=\"couponCode\" class=\"list-unstyled row bg-white pt-3\">\r\n          <li class=\"col text-success text-end\">已使用優惠券</li>\r\n          <li class=\"col text-success text-end\">{{ couponCode }}</li>\r\n        </ul>\r\n        <ul class=\"list-unstyled row bg-white py-3\">\r\n          <li class=\"col text-end\">總計</li>\r\n          <li class=\"col text-end\">NT${{ $filters.currency(order.total) }}</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"col-12 col-md-6 col-xl-5\">\r\n        <h4 class=\"mb-3\">寄貨資料</h4>\r\n        <table class=\"table mb-4\">\r\n          <tbody>\r\n            <tr>\r\n              <th>訂單編號</th>\r\n              <td>{{ order.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Email</th>\r\n              <td>{{ order.user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人姓名</th>\r\n              <td>{{ order.user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人電話</th>\r\n              <td>{{ order.user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人地址</th>\r\n              <td>{{ order.user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>付款狀態</th>\r\n              <td v-if=\"!order.is_paid\" class=\"text-danger\">尚未付款</td>\r\n              <td v-else class=\"text-success\">付款完成</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"row flex-column flex-md-row\" v-if=\"!order.is_paid\">\r\n          <div class=\"col col-md-7\">\r\n            <i class=\"fa-solid fa-triangle-exclamation me-2\"></i>\r\n            <span class=\" fw-semibold\">訂單尚未完成!</span>\r\n            <p>確認訂單內容後，點擊付款即完成訂單!</p>\r\n          </div>\r\n          <div class=\"col col-md-5 text-end\">\r\n            <button class=\"btn btn-danger\" type=\"button\"\r\n            @click=\"payOrder\">\r\n              確認付款\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else-if=\"warning\">\r\n      <p class=\"h5 text-center text-danger\">\r\n        {{ warning }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fullpathMixin from '@/mixins/fullpathMixin';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderId: '',\r\n      order: {\r\n        user: {},\r\n      },\r\n      couponCode: '',\r\n      isLoading: false,\r\n      warning: '',\r\n    };\r\n  },\r\n  mixins: [fullpathMixin],\r\n  methods: {\r\n    getOrder() {\r\n      this.order = {};\r\n      this.isLoading = true;\r\n      const id = this.orderId.trim();\r\n      if (id) {\r\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`;\r\n        this.$http.get(url)\r\n          .then((res) => {\r\n            this.isLoading = false;\r\n            if (res.data.order) {\r\n              this.order = res.data.order;\r\n              const key = Object.keys(res.data.order.products)[0];\r\n              const productKey = res.data.order.products[key];\r\n              if (productKey.coupon) {\r\n                this.couponCode = productKey.coupon.code;\r\n              }\r\n            } else {\r\n              this.order = res.data.order;\r\n              this.warning = '訂單號碼輸入錯誤，請重新輸入';\r\n            }\r\n          });\r\n      } else {\r\n        this.isLoading = false;\r\n        this.warning = '訂單號碼不可為空，請輸入訂單號碼';\r\n      }\r\n    },\r\n    payOrder() {\r\n      this.isLoading = true;\r\n      const id = this.orderId.trim();\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`;\r\n      this.$http.post(url)\r\n        .then((res) => {\r\n          this.isLoading = false;\r\n          if (res.data.success) {\r\n            this.getOrder();\r\n            const messageTitle = '付款成功';\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: messageTitle,\r\n              content: '已完成付款',\r\n            });\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./UserInquire.vue?vue&type=template&id=f387fe54\"\nimport script from \"./UserInquire.vue?vue&type=script&lang=js\"\nexport * from \"./UserInquire.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","created","this","emitter","emit","fullPath","$route","class","_createElementVNode","key","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","_cache","$event","orderId","onClick","args","$options","getOrder","order","id","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","products","item","_hoisted_9","_hoisted_10","src","product","imageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_toDisplayString","title","_hoisted_15","qty","_hoisted_16","_ctx","$filters","currency","final_total","couponCode","_hoisted_17","_hoisted_18","_hoisted_19","_createCommentVNode","_hoisted_20","_hoisted_21","_hoisted_22","total","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","user","email","_hoisted_28","name","_hoisted_29","tel","_hoisted_30","address","_hoisted_31","is_paid","_hoisted_33","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","payOrder","warning","_hoisted_37","_hoisted_38","data","mixins","fullpathMixin","methods","trim","url","$http","get","then","res","Object","keys","productKey","coupon","code","post","success","messageTitle","style","content","__exports__","render"],"sourceRoot":""}